{"ast":null,"code":"import { Estado } from '../models/Estado';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/Cell.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BoardComponent_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 7);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const mode_r5 = ctx.$implicit;\n    i0.ÉµÉµpropertyInterpolate(\"value\", mode_r5);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", mode_r5, \" \");\n  }\n}\nfunction BoardComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"button\", 8);\n    i0.ÉµÉµlistener(\"click\", function BoardComponent_button_7_Template_button_click_0_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      const ctx_r6 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r6.reset());\n    });\n    i0.ÉµÉµtext(1, \" Reintentar \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction BoardComponent_h3_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"h3\");\n    i0.ÉµÉµtext(1, \" Ganaste. Juego Terminado \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction BoardComponent_h3_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"h3\");\n    i0.ÉµÉµtext(1, \" Perdiste. Juego Terminado \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction BoardComponent_div_12_tr_2_td_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 15);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r12 = i0.ÉµÉµnextContext().$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", cell_r12.minasAlrededor, \" \");\n  }\n}\nfunction BoardComponent_div_12_tr_2_td_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 16);\n    i0.ÉµÉµtext(1, \" \\uD83D\\uDCA3 \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"closedCell\": a0\n  };\n};\nfunction BoardComponent_div_12_tr_2_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"td\", 12);\n    i0.ÉµÉµlistener(\"click\", function BoardComponent_div_12_tr_2_td_1_Template_td_click_0_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r18);\n      const x_r13 = restoredCtx.index;\n      const y_r10 = i0.ÉµÉµnextContext().index;\n      const ctx_r17 = i0.ÉµÉµnextContext(2);\n      return i0.ÉµÉµresetView(ctx_r17.gameState == 1 && ctx_r17.checkCell(y_r10, x_r13));\n    })(\"contextmenu\", function BoardComponent_div_12_tr_2_td_1_Template_td_contextmenu_0_listener() {\n      i0.ÉµÉµrestoreView(_r18);\n      const ctx_r20 = i0.ÉµÉµnextContext(3);\n      return i0.ÉµÉµresetView(ctx_r20.gameState == 1);\n    });\n    i0.ÉµÉµtemplate(1, BoardComponent_div_12_tr_2_td_1_div_1_Template, 2, 1, \"div\", 13);\n    i0.ÉµÉµtemplate(2, BoardComponent_div_12_tr_2_td_1_div_2_Template, 2, 0, \"div\", 14);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r12 = ctx.$implicit;\n    const ctx_r11 = i0.ÉµÉµnextContext(3);\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction1(3, _c0, cell_r12.status != \"open\" && !(ctx_r11.gameState == 0 && cell_r12.mina)));\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", cell_r12.status == \"open\" && cell_r12.minasAlrededor != 0);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", cell_r12.status == \"mine\");\n  }\n}\nfunction BoardComponent_div_12_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"tr\");\n    i0.ÉµÉµtemplate(1, BoardComponent_div_12_tr_2_td_1_Template, 3, 5, \"td\", 11);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const rows_r9 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngForOf\", rows_r9);\n  }\n}\nfunction BoardComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\")(1, \"table\", 9);\n    i0.ÉµÉµtemplate(2, BoardComponent_div_12_tr_2_Template, 2, 1, \"tr\", 10);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r4.board);\n  }\n}\nexport class BoardComponent {\n  constructor(cellService) {\n    this.cellService = cellService;\n    this.board = [];\n    this.gameState = Estado.playing;\n    this.rows = 5;\n    this.columns = 5;\n    this.numberOfMines = 0;\n    this.difficulty = \"Easy\";\n    this.celdas = {\n      cellsOpened: 0,\n      cells: this.rows * this.columns,\n      numberMines: this.numberOfMines\n    };\n    this.changeDifficulty();\n  }\n  checkCell(row, column) {\n    this.cellService.abrirCelda(this.board, row, column, this.rows, this.columns, this.celdas);\n    this.gameState = this.cellService.cambiarEstado(this.board, row, column, this.celdas, this.numberOfMines, this.gameState);\n  }\n  reiniciar() {\n    this.board = this.cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\n    this.gameState = Estado.playing;\n    this.celdas = {\n      cellsOpened: 0,\n      cells: this.rows * this.columns,\n      numberMines: this.numberOfMines\n    };\n  }\n  getDifficultys() {\n    return this.cellService.getDifficulty();\n  }\n  changeDifficulty() {\n    let changes = this.cellService.Dificultad(this.difficulty);\n    this.rows = changes[0];\n    this.columns = changes[1];\n    this.numberOfMines = changes[2];\n    this.reiniciar();\n  }\n}\nBoardComponent.Éµfac = function BoardComponent_Factory(t) {\n  return new (t || BoardComponent)(i0.ÉµÉµdirectiveInject(i1.CellService));\n};\nBoardComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: BoardComponent,\n  selectors: [[\"app-board\"]],\n  decls: 13,\n  vars: 7,\n  consts: [[1, \"et\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"reset\"], [3, \"click\", 4, \"ngIf\"], [1, \"Win\"], [4, \"ngIf\"], [1, \"Lose\"], [3, \"value\"], [3, \"click\"], [1, \"Game\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\", \"contextmenu\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\", \"contextmenu\"], [\"class\", \"celdas\", 4, \"ngIf\"], [\"class\", \"mine\", 4, \"ngIf\"], [1, \"celdas\"], [1, \"mine\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ÉµÉµelementStart(0, \"p\");\n      i0.ÉµÉµtext(1, \"Escoge la dificultad\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(2, \"select\", 0);\n      i0.ÉµÉµlistener(\"change\", function BoardComponent_Template_select_change_2_listener() {\n        return ctx.changeDifficulty();\n      })(\"ngModelChange\", function BoardComponent_Template_select_ngModelChange_2_listener($event) {\n        return ctx.difficulty = $event;\n      });\n      i0.ÉµÉµtemplate(3, BoardComponent_option_3_Template, 2, 2, \"option\", 1);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(4, \"p\");\n      i0.ÉµÉµtext(5);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(6, \"div\", 2);\n      i0.ÉµÉµtemplate(7, BoardComponent_button_7_Template, 2, 0, \"button\", 3);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(8, \"div\", 4);\n      i0.ÉµÉµtemplate(9, BoardComponent_h3_9_Template, 2, 0, \"h3\", 5);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(10, \"div\", 6);\n      i0.ÉµÉµtemplate(11, BoardComponent_h3_11_Template, 2, 0, \"h3\", 5);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµtemplate(12, BoardComponent_div_12_Template, 3, 1, \"div\", 5);\n    }\n    if (rf & 2) {\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngModel\", ctx.difficulty);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"ngForOf\", ctx.getDifficultys());\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµtextInterpolate1(\"Numero de minas: \", ctx.numberOfMines, \"\");\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.gameState == 0 || ctx.gameState == 2);\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.gameState == 2);\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.gameState == 0);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.gameState == 1 || ctx.gameState == 0 || ctx.gameState == 2);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ÉµNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".Game[_ngcontent-%COMP%]{\\r\\n    border: 3px solid rgb(89, 89, 89);\\r\\n    border-collapse: collapse;\\r\\n    text-align: center;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\r\\n\\r\\ntd[_ngcontent-%COMP%]{\\r\\n    border: 1px solid rgb(89, 89, 89);\\r\\n    border-collapse: collapse;\\r\\n    width: 35px;\\r\\n    height: 35px;\\r\\n}\\r\\n\\r\\n.celdas[_ngcontent-%COMP%], .mine[_ngcontent-%COMP%], .reset[_ngcontent-%COMP%], .Win[_ngcontent-%COMP%], .Lose[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.flag[_ngcontent-%COMP%]{\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    text-align: center;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n\\r\\n    margin-bottom: 30px;\\r\\n}\\r\\n\\r\\n.closedCell[_ngcontent-%COMP%]{\\r\\n    background-color: rgb(170, 170, 170)\\r\\n}\\r\\n\\r\\n.reset[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 15px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.et[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYm9hcmQvYm9hcmQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlDQUFpQztJQUNqQyx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxpQ0FBaUM7SUFDakMseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGtCQUFrQjs7SUFFbEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0k7QUFDSjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkIiLCJzb3VyY2VzQ29udGVudCI6WyIuR2FtZXtcclxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHJnYig4OSwgODksIDg5KTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG5cclxudGR7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoODksIDg5LCA4OSk7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbiAgICBoZWlnaHQ6IDM1cHg7XHJcbn1cclxuXHJcbi5jZWxkYXMsIC5taW5lLCAucmVzZXQsIC5XaW4sIC5Mb3Nle1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uZmxhZ3tcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcblxyXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxufVxyXG5cclxuLmNsb3NlZENlbGx7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTcwLCAxNzAsIDE3MClcclxufVxyXG5cclxuLnJlc2V0e1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmV0e1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Estado","i0","ctx_r17","BoardComponent","constructor","cellService","playing","rows","columns","numberOfMines","difficulty","celdas","cellsOpened","cells","numberMines","changeDifficulty","checkCell","row","column","abrirCelda","board","gameState","cambiarEstado","reiniciar","buildBoard","getDifficultys","getDifficulty","changes","Dificultad","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\Diky\\Desktop\\Programacio II\\Buscaminas\\src\\app\\board\\board.component.ts","F:\\Diky\\Desktop\\Programacio II\\Buscaminas\\src\\app\\board\\board.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Cell } from '../models/Cell';\r\nimport { CellService } from '../services/Cell.service';\r\nimport { Estado } from '../models/Estado';\r\n\r\n\r\n@Component({\r\n  selector: 'app-board',\r\n  templateUrl: './board.component.html',\r\n  styleUrls: ['./board.component.css']\r\n})\r\nexport class BoardComponent {\r\n  \r\n  board: Cell[][] = [];\r\n  gameState: Estado = Estado.playing;\r\n\r\n  rows: number;\r\n  columns: number;\r\n  numberOfMines: number;\r\n  celdas: any;\r\n  difficulty: string;\r\n\r\n  constructor(private cellService: CellService){\r\n    this.rows= 5;\r\n    this.columns = 5;\r\n    this.numberOfMines = 0;\r\n    this.difficulty = \"Easy\"\r\n    this.celdas = {cellsOpened: 0, cells: this.rows * this.columns, numberMines: this.numberOfMines};\r\n    this.changeDifficulty();\r\n  }\r\n\r\n  checkCell(row: number, column: number){\r\n    this.cellService.abrirCelda(this.board, row, column, this.rows, this.columns, this.celdas);\r\n    this.gameState = this.cellService.cambiarEstado(this.board, row, column, this.celdas, this.numberOfMines, this.gameState);\r\n  }\r\n\r\n  reiniciar(){\r\n    this.board = this.cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\r\n    this.gameState = Estado.playing;\r\n    this.celdas = {cellsOpened: 0, cells: this.rows * this.columns, numberMines: this.numberOfMines};\r\n  }\r\n\r\n  getDifficultys() : string[]{\r\n    return this.cellService.getDifficulty();\r\n  }\r\n\r\n  changeDifficulty(){\r\n    let changes: [number, number, number] = this.cellService.Dificultad(this.difficulty);\r\n    this.rows = changes[0];\r\n    this.columns = changes[1];\r\n    this.numberOfMines = changes[2]; \r\n    this.reiniciar();\r\n  }\r\n\r\n}\r\n","\r\n<p>Escoge la dificultad</p>\r\n<select (change)=\"changeDifficulty()\"\r\n        [(ngModel)]=\"difficulty\"\r\n        class=\"et\">\r\n    <option \r\n        *ngFor=\"let mode of this.getDifficultys()\" \r\n        value=\"{{mode}}\">\r\n        {{mode}}\r\n    </option>\r\n</select>\r\n\r\n<p>Numero de minas: {{numberOfMines}}</p>\r\n\r\n<div class=\"reset\">\r\n    <button (click)=\"reset()\" *ngIf=\"gameState == 0 || gameState == 2\">\r\n        Reintentar\r\n    </button>\r\n</div>\r\n\r\n<div class=\"Win\">\r\n    <h3 *ngIf=\"gameState == 2\" >\r\n        Ganaste. Juego Terminado\r\n    </h3>\r\n</div>\r\n\r\n<div class=\"Lose\">\r\n    <h3 *ngIf=\"gameState == 0\" >\r\n        Perdiste. Juego Terminado\r\n    </h3>\r\n</div>\r\n\r\n<div *ngIf=\"gameState == 1 || gameState == 0 || gameState == 2\">\r\n    <table class=\"Game\">\r\n        <tr *ngFor=\"let rows of board; index as y;\">\r\n            <td *ngFor=\"let cell of rows; index as x;\" \r\n            (click)=\"gameState == 1 && checkCell(y, x)\" \r\n            (contextmenu)=\"gameState == 1\" \r\n            [ngClass]=\"{'closedCell': cell.status != 'open' && !(gameState == 0 && cell.mina) }\"\r\n            >\r\n                <div \r\n                *ngIf=\"cell.status =='open' && cell.minasAlrededor != 0\" \r\n                class=\"celdas\"\r\n                >\r\n                    {{cell.minasAlrededor}}\r\n                </div>\r\n\r\n                <div *ngIf=\"cell.status == 'mine'\" class=\"mine\">\r\n                    ðŸ’£\r\n                </div>\r\n                \r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}